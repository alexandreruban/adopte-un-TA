<div class="container">
  <div class="row">
    <div class="col-xs-12 col-md-8">
      <div class="details details-description">
        <div class="card-body ">
          <h1><%= @course.title %></h1>
          <p><%= @course.description %></p>
          <p>
            <%= cl_image_tag @course.user.avatar, class:"details-user" %>
            <strong><%= @course.user.first_name %> <%= @course.user.last_name %></strong>
          </p>
          <% if policy(@course).edit? %>
            <%= link_to "Edit", edit_course_path(@course), class: "btn btn-primary"%>
          <% end %>

          <% if policy(@course).destroy? %>
            <%= link_to "Delete",  course_path(@course), method: :delete, class: "btn btn-primary"%>
          <% end %>

        </div>
      </div>
    </div>
    <div class="col-xs-12 col-md-4">
      <div class="details details-call">
        <div class="card-body">
          <p>
            From: <strong><%= @course.begin_date.strftime("%d of %B, %Y") %></strong>
            <br>
            To: <strong><%= @course.end_date.strftime("%d of %B, %Y") %></strong>
          </p>
          <p>
            <i class="fa fa-map-marker" aria-hidden="true"></i>
            <strong><%= @course.address %></strong>
          </p>
          <p>
            <strong><%= @course.price %> â‚¬</strong>
          </p>
        <div class="margin-button">
          <% if !(@course.user == current_user) %>
              <% if @booking.nil?%>
              <%= link_to "BOOK", course_bookings_path(@course), method: :post, class: "book-button" %>
            <% else %>
              <%= link_to "Cancel booking", booking_path(@booking), method: :delete, class: "book-button-cancel" %>
            <% end %>

          <% end %>
        </div>
        </div>
      </div>
    </div>
  </div>
  <% if @same_courses.any? %>
  <div class="row">
    <h3>Related courses <span class="details-h3-span">for <%= @course.title %></span></h3>
  </div>
  <div class="row">
    <% @same_courses.each do |course| %>
    <div class="col-xs-12 col-sm-6 col-md-4">
      <%= render partial: 'shared/card', locals: { course: course } %>
    </div>
    <% end %>
  </div>
  <% end %>
  <% if @other_courses.any? %>
  <div class="row">
    <h3>Other courses <span class="details-h3-span">from <%= @course.user.first_name %> <%= @course.user.last_name %></span></h3>
  </div>
  <div class="row">
    <% @other_courses.each do |course| %>
    <div class="col-xs-12 col-sm-6 col-md-4">
      <%= render partial: 'shared/card', locals: { course: course } %>
    </div>
    <% end %>
  </div>
  <% end %>
</div>
